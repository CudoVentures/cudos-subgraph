specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
#  - kind: ethereum/contract
#    name: VestingContract
#    network: mainnet
#    source:
#      address: "0xb3ccb8FB2533E51893915908CEb85763CeaeA97b"
#      abi: VestingContract
#      startBlock: 11633453
#    mapping:
#      kind: ethereum/events
#      apiVersion: 0.0.3
#      language: wasm/assemblyscript
#      entities:
#        - VestingDrawDown
#        - VestingBeneficiary
#      abis:
#        - name: VestingContract
#          file: ./abis/VestingContract.json
#      eventHandlers:
#        - event: DrawDown(indexed address,indexed uint256,indexed uint256)
#          handler: handleDrawDown
#        - event: ScheduleCreated(indexed address,indexed uint256,indexed uint256,uint256)
#          handler: handleScheduleCreated
#      file: ./src/vesting-mapping.ts
  - kind: ethereum/contract
    name: ServiceProvider
    network: rinkeby
    source:
      address: "0xCE17A72AC465D5f0425134f65b3F89A2B8b8eA44"
      abi: ServiceProvider
      startBlock: 8457629
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - AddDelegatedStake
        - StakedServiceProviderBond
        - WithdrawDelegatedStakeRequested
        - WithdrewDelegatedStake
      abis:
        - name: ServiceProvider
          file: ./abis/ServiceProvider.json
      eventHandlers:
        - event: StakedServiceProviderBond(indexed address,indexed address,indexed uint256,uint256)
          handler: handleServiceProviderStakedBond
        - event: AddDelegatedStake(indexed address,indexed uint256,uint256)
          handler: handleStakeDelegatedToServiceProvider
        - event: WithdrawDelegatedStakeRequested(indexed address,indexed uint256,uint256)
          handler: handleDelegatedStakeWithdrawalRequested
        - event: WithdrewDelegatedStake(indexed address,indexed uint256,uint256)
          handler: handleDelegatedStakeWithdrawn
      file: ./src/service-provider-mapping.ts
